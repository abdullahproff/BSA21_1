@startuml

skin rose
title Дневник питания с аналитикой: Добавление приема пищи
autonumber
actor Пользователь as User
participant "Мобильное приложение" as Frontend
participant "Сервер" as Backend
database "База данных" as DB

User -> Frontend: Нажимает "Сохранить прием пищи"
activate User
activate Frontend
Frontend -> Backend: http-запрос на получение данных
activate Backend
Backend -> DB: SQL-запроc сохранение meal-id
activate DB
DB --> Backend: SQL-ответ на сохранение meal-id
deactivate DB
Backend -> DB: SQL-запрос на обновление аналитики
activate DB
DB -> DB: Пересчет аналитики\nза текущую дату
DB --> Backend: SQL-ответ с обновленной аналитикой
deactivate DB
Backend --> Frontend: http-ответ на получение данных
deactivate Backend
Frontend --> User: Отображение экрана \nс обновленной аналитикой
deactivate Frontend
deactivate User

@enduml
